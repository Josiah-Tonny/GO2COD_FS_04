"use strict";(self.webpackChunkportfolio_cms_frontend=self.webpackChunkportfolio_cms_frontend||[]).push([[636],{636:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var l=s(43),a=s(554),d=s(579);const c=()=>{const[e,t]=(0,l.useState)([]),[s,c]=(0,l.useState)(!0),[n,o]=(0,l.useState)(null),[i,r]=(0,l.useState)(null);(0,l.useEffect)((()=>{h()}),[]);const h=async()=>{try{c(!0);const e=await a.w.getPosts();t(e)}catch(e){o("Failed to fetch blog posts"),console.error("Error fetching posts:",e)}finally{c(!1)}};return s?(0,d.jsx)("div",{className:"p-6",children:"Loading..."}):n?(0,d.jsx)("div",{className:"p-6 text-red-500",children:n}):(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold",children:"Manage Blog Posts"}),(0,d.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:()=>{},children:"Add New Post"})]}),0===e.length?(0,d.jsx)("p",{className:"text-gray-500",children:"No blog posts found"}):(0,d.jsx)("ul",{className:"space-y-4",children:e.map((s=>(0,d.jsx)("li",{className:"border p-4 rounded-lg",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold",children:s.title}),(0,d.jsx)("p",{className:"text-gray-600",children:s.createdAt})]}),(0,d.jsxs)("div",{className:"space-x-2",children:[(0,d.jsx)("button",{className:"bg-blue-500 text-white px-3 py-1 rounded",onClick:()=>{},children:"Edit"}),(0,d.jsx)("button",{className:"bg-red-500 text-white px-3 py-1 rounded "+(i===s._id?"opacity-50":""),onClick:()=>(async s=>{try{r(s),await a.w.deleteBlogPost(s),t(e.filter((e=>e._id!==s)))}catch(l){console.error("Error deleting post:",l),alert("Failed to delete post")}finally{r(null)}})(s._id),disabled:i===s._id,children:i===s._id?"Deleting...":"Delete"})]})]})},s._id)))})]})}},554:(e,t,s)=>{s.d(t,{w:()=>d});var l=s(213);const a="http://localhost:5000/api/blog",d={getPosts:async()=>(await l.A.get(a)).data,addBlogPost:async(e,t)=>(await l.A.post(a,{title:e,content:t})).data,deleteBlogPost:async e=>(await l.A.delete(`${a}/${e}`)).data}}}]);
//# sourceMappingURL=636.1b2636e4.chunk.js.map