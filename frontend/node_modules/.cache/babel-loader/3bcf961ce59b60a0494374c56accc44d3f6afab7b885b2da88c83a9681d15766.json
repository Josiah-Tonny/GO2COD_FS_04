{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrator\\\\portfolio-cms\\\\frontend\\\\src\\\\components\\\\common\\\\PrivateRoute.js\",\n  _s = $RefreshSig$();\n// components/common/PrivateRoute.js\nimport React from 'react';\nimport { Navigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PrivateRoute = ({\n  children\n}) => {\n  _s();\n  var _authState$user;\n  const {\n    authState\n  } = useAuth();\n  const location = useLocation();\n\n  // Add loading state\n  if (authState.loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center min-h-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 14,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this);\n  }\n  if (!authState.isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\",\n      state: {\n        from: location\n      },\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Role-based access control\n  if (((_authState$user = authState.user) === null || _authState$user === void 0 ? void 0 : _authState$user.role) !== 'admin') {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\",\n      replace: true,\n      state: {\n        error: \"You don't have permission to access this page\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this);\n  }\n  return children;\n};\n_s(PrivateRoute, \"BzkY5CLlWySyUA3gORXFKxr0ZJI=\", false, function () {\n  return [useAuth, useLocation];\n});\n_c = PrivateRoute;\nexport default PrivateRoute;\nvar _c;\n$RefreshReg$(_c, \"PrivateRoute\");","map":{"version":3,"names":["React","Navigate","useLocation","useAuth","jsxDEV","_jsxDEV","PrivateRoute","children","_s","_authState$user","authState","location","loading","className","fileName","_jsxFileName","lineNumber","columnNumber","isAuthenticated","to","state","from","replace","user","role","error","_c","$RefreshReg$"],"sources":["C:/Users/Administrator/portfolio-cms/frontend/src/components/common/PrivateRoute.js"],"sourcesContent":["// components/common/PrivateRoute.js\r\nimport React from 'react';\r\nimport { Navigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\n\r\nconst PrivateRoute = ({ children }) => {\r\n  const { authState } = useAuth();\r\n  const location = useLocation();\r\n\r\n  // Add loading state\r\n  if (authState.loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-900\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!authState.isAuthenticated) {\r\n    return (\r\n      <Navigate \r\n        to=\"/login\" \r\n        state={{ from: location }} \r\n        replace \r\n      />\r\n    );\r\n  }\r\n\r\n  // Role-based access control\r\n  if (authState.user?.role !== 'admin') {\r\n    return (\r\n      <Navigate \r\n        to=\"/\" \r\n        replace \r\n        state={{ \r\n          error: \"You don't have permission to access this page\" \r\n        }} \r\n      />\r\n    );\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nexport default PrivateRoute;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,WAAW,QAAQ,kBAAkB;AACxD,SAASC,OAAO,QAAQ,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,MAAMC,YAAY,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAAA,IAAAC,eAAA;EACrC,MAAM;IAAEC;EAAU,CAAC,GAAGP,OAAO,CAAC,CAAC;EAC/B,MAAMQ,QAAQ,GAAGT,WAAW,CAAC,CAAC;;EAE9B;EACA,IAAIQ,SAAS,CAACE,OAAO,EAAE;IACrB,oBACEP,OAAA;MAAKQ,SAAS,EAAC,+CAA+C;MAAAN,QAAA,eAC5DF,OAAA;QAAKQ,SAAS,EAAC;MAAgE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnF,CAAC;EAEV;EAEA,IAAI,CAACP,SAAS,CAACQ,eAAe,EAAE;IAC9B,oBACEb,OAAA,CAACJ,QAAQ;MACPkB,EAAE,EAAC,QAAQ;MACXC,KAAK,EAAE;QAAEC,IAAI,EAAEV;MAAS,CAAE;MAC1BW,OAAO;IAAA;MAAAR,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC;EAEN;;EAEA;EACA,IAAI,EAAAR,eAAA,GAAAC,SAAS,CAACa,IAAI,cAAAd,eAAA,uBAAdA,eAAA,CAAgBe,IAAI,MAAK,OAAO,EAAE;IACpC,oBACEnB,OAAA,CAACJ,QAAQ;MACPkB,EAAE,EAAC,GAAG;MACNG,OAAO;MACPF,KAAK,EAAE;QACLK,KAAK,EAAE;MACT;IAAE;MAAAX,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEN;EAEA,OAAOV,QAAQ;AACjB,CAAC;AAACC,EAAA,CArCIF,YAAY;EAAA,QACMH,OAAO,EACZD,WAAW;AAAA;AAAAwB,EAAA,GAFxBpB,YAAY;AAuClB,eAAeA,YAAY;AAAC,IAAAoB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}