"use strict";(self.webpackChunkportfolio_cms_frontend=self.webpackChunkportfolio_cms_frontend||[]).push([[192],{192:(e,s,t)=>{t.r(s),t.d(s,{default:()=>o});var l=t(43),a=t(213);const c="http://localhost:5000/api/blog",i=async()=>(await a.A.get(c)).data,n=async e=>(await a.A.delete(`${c}/${e}`)).data;var d=t(579);const o=()=>{const[e,s]=(0,l.useState)([]),[t,a]=(0,l.useState)(!0),[c,o]=(0,l.useState)(null),[r,h]=(0,l.useState)(null);(0,l.useEffect)((()=>{x()}),[]);const x=async()=>{try{a(!0);const e=await i();s(e)}catch(e){o("Failed to fetch blog posts"),console.error("Error fetching posts:",e)}finally{a(!1)}};return t?(0,d.jsx)("div",{className:"p-6",children:"Loading..."}):c?(0,d.jsx)("div",{className:"p-6 text-red-500",children:c}):(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold",children:"Manage Blog Posts"}),(0,d.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:()=>{},children:"Add New Post"})]}),0===e.length?(0,d.jsx)("p",{className:"text-gray-500",children:"No blog posts found"}):(0,d.jsx)("ul",{className:"space-y-4",children:e.map((t=>(0,d.jsx)("li",{className:"border p-4 rounded-lg",children:(0,d.jsxs)("div",{className:"flex justify-between items-center",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{className:"font-semibold",children:t.title}),(0,d.jsx)("p",{className:"text-gray-600",children:t.createdAt})]}),(0,d.jsxs)("div",{className:"space-x-2",children:[(0,d.jsx)("button",{className:"bg-blue-500 text-white px-3 py-1 rounded",onClick:()=>{},children:"Edit"}),(0,d.jsx)("button",{className:"bg-red-500 text-white px-3 py-1 rounded "+(r===t._id?"opacity-50":""),onClick:()=>(async t=>{try{h(t),await n(t),s(e.filter((e=>e._id!==t)))}catch(l){console.error("Error deleting post:",l),alert("Failed to delete post")}finally{h(null)}})(t._id),disabled:r===t._id,children:r===t._id?"Deleting...":"Delete"})]})]})},t._id)))})]})}}}]);
//# sourceMappingURL=192.d93f1f4c.chunk.js.map