"use strict";(self.webpackChunkportfolio_cms_frontend=self.webpackChunkportfolio_cms_frontend||[]).push([[750],{750:(e,t,o)=>{o.r(t),o.d(t,{default:()=>s});var i=o(43),l=o(162),r=o(579);const s=()=>{const[e,t]=(0,i.useState)([]),[o,s]=(0,i.useState)(!0),[a,n]=(0,i.useState)(null),[d,c]=(0,i.useState)(null);(0,i.useEffect)((()=>{f()}),[]);const f=async()=>{try{s(!0);const e=await l.O.getPortfolio();t(e)}catch(e){n("Failed to fetch portfolio items"),console.error("Error fetching portfolio:",e)}finally{s(!1)}};return o?(0,r.jsx)("div",{className:"p-6",children:"Loading..."}):a?(0,r.jsx)("div",{className:"p-6 text-red-500",children:a}):(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold",children:"Manage Portfolio"}),(0,r.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:()=>{},children:"Add New Item"})]}),0===e.length?(0,r.jsx)("p",{className:"text-gray-500",children:"No portfolio items found"}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((o=>(0,r.jsxs)("div",{className:"border p-4 rounded-lg",children:[o.image&&(0,r.jsx)("img",{src:o.image,alt:o.title,className:"w-full h-48 object-cover mb-4 rounded"}),(0,r.jsx)("h3",{className:"font-semibold",children:o.title}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:o.description}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,r.jsx)("button",{className:"bg-blue-500 text-white px-3 py-1 rounded",onClick:()=>{},children:"Edit"}),(0,r.jsx)("button",{className:"bg-red-500 text-white px-3 py-1 rounded "+(d===o._id?"opacity-50":""),onClick:()=>(async o=>{try{c(o),await l.O.deletePortfolioItem(o),t(e.filter((e=>e._id!==o)))}catch(i){console.error("Error deleting item:",i),alert("Failed to delete portfolio item")}finally{c(null)}})(o._id),disabled:d===o._id,children:d===o._id?"Deleting...":"Delete"})]})]},o._id)))})]})}},162:(e,t,o)=>{o.d(t,{O:()=>r});var i=o(862);const l=(e,t)=>{var o,i,l,r,s;if(console.error("API Error:",{message:e.message,response:null===(o=e.response)||void 0===o?void 0:o.data,status:null===(i=e.response)||void 0===i?void 0:i.status,endpoint:null===(l=e.config)||void 0===l?void 0:l.url}),"Network Error"===e.message)throw new Error("Unable to connect to the server. Please check your connection.");throw new Error((null===(r=e.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.message)||e.message||t)},r={getPortfolio:async()=>{try{console.log("Fetching portfolio from:","https://go2cod-fs-04.onrender.com/api/portfolio");const e=await i.A.get("/portfolio");return console.log("Portfolio data received:",e.data),e.data}catch(e){l(e,"Failed to fetch portfolio items")}},createPortfolioItem:async e=>{try{console.log("Creating portfolio item:",e);const t=await i.A.post("/portfolio",e);return console.log("Portfolio item created:",t.data),t.data}catch(t){l(t,"Failed to create portfolio item")}},updatePortfolioItem:async(e,t)=>{try{console.log("Updating portfolio item:",{id:e,data:t});const o=await i.A.put(`/portfolio/${e}`,t);return console.log("Portfolio item updated:",o.data),o.data}catch(o){l(o,`Failed to update portfolio item ${e}`)}},deletePortfolioItem:async e=>{try{console.log("Deleting portfolio item:",e);const t=await i.A.delete(`/portfolio/${e}`);return console.log("Portfolio item deleted:",t.data),t.data}catch(t){l(t,`Failed to delete portfolio item ${e}`)}},validatePortfolioItem:e=>{const t=[];if(e.title||t.push("Title is required"),e.description||t.push("Description is required"),t.length>0)throw new Error(t.join(", "));return!0}};Date,Date}}]);
//# sourceMappingURL=750.d7b4e7d9.chunk.js.map