"use strict";(self.webpackChunkportfolio_cms_frontend=self.webpackChunkportfolio_cms_frontend||[]).push([[750],{750:(e,t,o)=>{o.r(t),o.d(t,{default:()=>a});var r=o(43),l=o(162),i=o(579);const a=()=>{const[e,t]=(0,r.useState)([]),[o,a]=(0,r.useState)(!0),[s,d]=(0,r.useState)(null),[n,c]=(0,r.useState)(null);(0,r.useEffect)((()=>{m()}),[]);const m=async()=>{try{a(!0);const e=await l.O.getPortfolio();t(e)}catch(e){d("Failed to fetch portfolio items"),console.error("Error fetching portfolio:",e)}finally{a(!1)}};return o?(0,i.jsx)("div",{className:"p-6",children:"Loading..."}):s?(0,i.jsx)("div",{className:"p-6 text-red-500",children:s}):(0,i.jsxs)("div",{className:"p-6",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold",children:"Manage Portfolio"}),(0,i.jsx)("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",onClick:()=>{},children:"Add New Item"})]}),0===e.length?(0,i.jsx)("p",{className:"text-gray-500",children:"No portfolio items found"}):(0,i.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.map((o=>(0,i.jsxs)("div",{className:"border p-4 rounded-lg",children:[o.image&&(0,i.jsx)("img",{src:o.image,alt:o.title,className:"w-full h-48 object-cover mb-4 rounded"}),(0,i.jsx)("h3",{className:"font-semibold",children:o.title}),(0,i.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:o.description}),(0,i.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,i.jsx)("button",{className:"bg-blue-500 text-white px-3 py-1 rounded",onClick:()=>{},children:"Edit"}),(0,i.jsx)("button",{className:"bg-red-500 text-white px-3 py-1 rounded "+(n===o._id?"opacity-50":""),onClick:()=>(async o=>{try{c(o),await l.O.deletePortfolioItem(o),t(e.filter((e=>e._id!==o)))}catch(r){console.error("Error deleting item:",r),alert("Failed to delete portfolio item")}finally{c(null)}})(o._id),disabled:n===o._id,children:n===o._id?"Deleting...":"Delete"})]})]},o._id)))})]})}},162:(e,t,o)=>{o.d(t,{O:()=>l});var r=o(862);const l={getPortfolio:async()=>{try{return(await r.A.get("/portfolio")).data}catch(o){var e,t;throw console.error("Error fetching portfolio:",o),new Error((null===(e=o.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)||"Failed to fetch portfolio items")}},createPortfolioItem:async e=>{try{return(await r.A.post("/portfolio",e)).data}catch(l){var t,o;throw new Error((null===(t=l.response)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.message)||"Failed to create portfolio item")}},updatePortfolioItem:async(e,t)=>{try{return(await r.A.put(`/portfolio/${e}`,t)).data}catch(i){var o,l;throw new Error((null===(o=i.response)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.message)||"Failed to update portfolio item")}},deletePortfolioItem:async e=>{try{return(await r.A.delete(`/portfolio/${e}`)).data}catch(l){var t,o;throw new Error((null===(t=l.response)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.message)||"Failed to delete portfolio item")}}}}}]);
//# sourceMappingURL=750.edc66967.chunk.js.map